{"version":3,"sources":["logo.svg","BuildingRadio.js","LimitRadio.js","AreaInput.js","MapCard.js","App.js","reportWebVitals.js","index.js"],"names":["building","label","value","BuildingRadio","props","useState","setValue","size","options","onChange","val","color","onClick","event","axios","get","then","response","console","log","data","code","sendResponse","forward","catch","error","LimitRadio","limits","setLimits","useEffect","selection","result","i","length","option","push","selection2option","post","application","join","this","AreaInput","use","setUse","allSquad","setAllSquad","earthSquad","setEarthSquad","height","setHeight","placeholder","MapCard","url","open","setOpen","handleClose","type","src","alt","active","title","showClose","onClose","actions","style","textAlign","display","justifyContent","alignContent","width","initialMessages","content","text","user","avatar","App","useMessages","messages","appendMsg","setTyping","turnover","step","setStep","sendTextResponse","setTimeout","sendCardResponse","navbar","renderMessageContent","msg","picUrl","onSend","trim","position","search","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","defaults","baseURL","process","headers"],"mappings":"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","file":"static/js/main.24bd69b0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { useState } from 'react';\r\nimport { Button, RadioGroup, Card, CardTitle, CardText, CardActions} from '@chatui/core';\r\nimport axios from 'axios';\r\n\r\nconst building = [\r\n    {label: '办公', value: '办公'},\r\n    {label: '商业', value: '商业'},\r\n    {label: '公共服务设施', value: '公共服务设施'},\r\n    {label: '仓库', value: '仓库'},\r\n    {label: '厂房', value: '厂房'},\r\n    {label: '住宅-平房', value: '住宅-平房'},\r\n    {label: '住宅-楼房', value: '住宅-楼房'},\r\n]\r\n\r\nconst BuildingRadio = (props) => {\r\n    const [value, setValue] = useState('办公')\r\n    function handleChange(val) {\r\n        setValue(val)\r\n    }\r\n    function handleSubmit(event){\r\n        // props.sendResponse(\"您选择的建筑物性质是 \" + value)\r\n        // // 前进到第二步\r\n        // props.forward(2)\r\n        axios.get('/SubBuilding?properties=' + value)\r\n            .then(function (response) {\r\n                console.log(response);\r\n                if(response.data.code === 0){\r\n                    // 客服回复 您选择的建筑物性质是 xxx\r\n                    // sendResponse是父组件传来的回调函数\r\n                    props.sendResponse(\"您选择的建筑物性质是 \" + value)\r\n                    // 前进到第二步\r\n                    props.forward(2)\r\n                }\r\n                else{\r\n                    props.sendResponse(\"您的选择出现错误，请重试\")\r\n                }\r\n\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n                props.sendResponse(\"您的选择出现错误，请重试\")\r\n            });\r\n    }\r\n\r\n    return(\r\n        <Card size=\"xl\">\r\n            <CardTitle>建筑物性质选择</CardTitle>\r\n            <CardText>\r\n                <RadioGroup value={value} options={building} onChange={handleChange} />\r\n            </CardText>\r\n            <CardActions>\r\n                <Button color=\"primary\" onClick={handleSubmit}>提交选择</Button>\r\n            </CardActions>\r\n        </Card>\r\n    )\r\n}\r\nexport default BuildingRadio;","import React, { useState, useEffect} from 'react';\r\nimport { Button, RadioGroup , Card, CardTitle, CardText, CardActions} from '@chatui/core';\r\nimport axios from 'axios';\r\n\r\nconst LimitRadio = (props) => {\r\n    const [value, setValue] = useState([])\r\n    function handleChange(val) {\r\n        setValue(val)\r\n    }\r\n    const [limits, setLimits] = useState([])\r\n    // let limits = []\r\n\r\n    useEffect(()=>{\r\n        getLimit()\r\n    }, [])\r\n\r\n    function selection2option(selection){\r\n        let options = []\r\n        for(let i=0;i < selection.length; i++){\r\n            let option = {}\r\n            option['label'] = selection[i]\r\n            option['value'] = i+1\r\n            options.push(option)\r\n        }\r\n        return options\r\n    }\r\n\r\n     function getLimit(){\r\n        // limits = [\r\n        //     {label: '1', value: '1'},\r\n        //     {label: '2', value: '2'},\r\n        //     {label: '3', value: '3'},\r\n        //     {label: '4', value: '4'},\r\n        // ]\r\n        // return limits\r\n        axios.get('/GetLimit')\r\n            .then(\r\n                (response)=>{\r\n                    if(response.data.code === 0){\r\n                        let selection = response.data.selection\r\n                        console.log(selection)\r\n                        let result = selection2option(selection)\r\n                        setLimits(result)\r\n                        console.log(limits)\r\n                    }\r\n                    else{\r\n                        props.sendResponse(\"不好意思，无法获取用途限定条件\")\r\n                    }\r\n                }\r\n            )\r\n            .catch(\r\n                (error)=>{\r\n                    console.log(error)\r\n                }\r\n            )\r\n    }\r\n    function handleSubmit(event){\r\n        // props.sendResponse(\"您选择的用途限定条件是 \" + value)\r\n        // // 前进到第三步\r\n        // props.forward(3)\r\n        axios.post('/SubLimit', {\r\n            selection: value\r\n        })\r\n            .then(function (response) {\r\n                console.log(response);\r\n                let result = response.data.result\r\n                let application = response.data.application\r\n                // result为0 则判断为简易低风险项目\r\n                if(result === 0){\r\n                    props.sendResponse(\"恭喜，用途限定条件符合简易低风险的要求！\")\r\n                    props.sendResponse(\"对于此建筑，小助理判断可能有以下用途:\")\r\n                    props.sendResponse(application.join(\"；\"))\r\n                    // 前进到第三步\r\n                    props.forward(3)\r\n                }\r\n                else{\r\n                    props.sendResponse(\"很抱歉，根据小助理的判断，您的工程建设项目不属于简易低风险。\")\r\n                    // 前进到第四步\r\n                    props.forward(5)\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n                this.props.sendResponse(\"您的选择出现错误，请重试。\")\r\n            });\r\n    }\r\n\r\n    return(\r\n        <Card size=\"xl\">\r\n            <CardTitle>用途限定条件选择</CardTitle>\r\n            <CardText>\r\n                <RadioGroup value={value} options={limits} onChange={handleChange} />\r\n            </CardText>\r\n            <CardActions>\r\n                <Button color=\"primary\" onClick={handleSubmit}>提交选择</Button>\r\n            </CardActions>\r\n        </Card>\r\n    )\r\n}\r\nexport default LimitRadio;","import React, { useState} from 'react';\r\nimport { Button, Input , Card, CardTitle, CardText, CardActions} from '@chatui/core';\r\nimport axios from 'axios';\r\n\r\nconst AreaInput = (props) => {\r\n    const [use, setUse] = useState('')\r\n    const [allSquad, setAllSquad] = useState('')\r\n    const [earthSquad, setEarthSquad] = useState('')\r\n    const [height, setHeight] = useState('')\r\n\r\n    function handleSubmit(event){\r\n        props.sendResponse(\"您填写的数据如下:\")\r\n        props.sendResponse(\r\n            \"建筑用途 \" + use + '\\n'\r\n            + \"建筑总面积 \" + allSquad + '\\n'\r\n            + \"地上建筑面积 \" + earthSquad + '\\n'\r\n            + \"建筑高度 \" + height\r\n        )\r\n\r\n        axios.post('/SubSquard', {\r\n            'use': use,\r\n            'all_squad': allSquad,\r\n            'earth_squad': earthSquad,\r\n            'height': height\r\n        })\r\n            .then(function (response) {\r\n                console.log(response);\r\n                let result = response.data.result\r\n                // result为0 则判断为简易低风险项目\r\n                if(result === 0){\r\n                    props.sendResponse(\"恭喜，建筑面积符合简易低风险的要求！\")\r\n                    // 前进到第四步\r\n                    props.forward(4)\r\n                }\r\n                else{\r\n                    props.sendResponse(\"很抱歉，根据小助理的判断，您的工程建设项目不属于简易低风险。\")\r\n                    // 前进到第四步\r\n                    props.forward(5)\r\n                }\r\n\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n                props.sendResponse(\"您的选择出现错误，请重试\")\r\n            });\r\n\r\n\r\n    }\r\n\r\n    return(\r\n        <Card size=\"xl\">\r\n            <CardTitle>建筑面积表单</CardTitle>\r\n            <CardText>\r\n                <h3>建筑用途</h3>\r\n                <Input value={use} placeholder=\"请输入建筑用途\" onChange={val=> setUse(val)} />\r\n                <h3>建筑总面积</h3>\r\n                <Input value={allSquad} placeholder=\"请输入建筑总面积\" onChange={val=> setAllSquad(val)} />\r\n                <h3>地上建筑面积</h3>\r\n                <Input value={earthSquad} placeholder=\"请输入地上建筑面积\" onChange={val=> setEarthSquad(val)} />\r\n                <h3>建筑高度</h3>\r\n                <Input value={height} placeholder=\"请输入建筑高度\" onChange={val=> setHeight(val)} />\r\n            </CardText>\r\n            <CardActions>\r\n                <Button color=\"primary\" onClick={handleSubmit}>提交表单</Button>\r\n            </CardActions>\r\n        </Card>\r\n    )\r\n}\r\nexport default AreaInput;","import React, { useState} from 'react';\r\nimport {Button, Modal, Card, CardTitle, CardText, CardActions, Bubble} from '@chatui/core';\r\nimport axios from 'axios';\r\n\r\nconst MapCard = (props) => {\r\n    //北京市地图 候选 http://www.cgzdl.com/uploads/allimg/map/2021041417(2).jpg\r\n    const [url, setUrl] = useState('http://uf-onegreen.qqxzb-img.com/m-maps/Upload_maps/201305/2013050708362908.jpg')\r\n    const [open, setOpen] = useState(false);\r\n\r\n    function handleSubmit(event){\r\n        setOpen(true)\r\n    }\r\n\r\n    function handleConfirm(event){\r\n        setOpen(false)\r\n        props.sendResponse(\"恭喜，您选择的地点符合条件！\")\r\n        // props.sendResponse(\"恭喜您，根据小助理的判断，您的工程建设项目属于简易低风险。\")\r\n        props.sendResponse(\"您好，您已满足办理简低工程的条件，前往发改委办理项目备案证明，在建设项目属地政务服务大厅申请办理建设工程规划许可。\")\r\n        props.sendResponse(\"您可以点击这里http://tzxm.beijing.gov.cn/slre/index，登录官网后申请简低工程。\")\r\n        props.forward(5)\r\n    }\r\n\r\n    function handleClose(event){\r\n        setOpen(false)\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <Card size=\"xl\">\r\n                <CardTitle>施工地点选择</CardTitle>\r\n                <CardText>\r\n                    <Bubble type=\"image\">\r\n                        <img src={url} alt=\"\" />\r\n                    </Bubble>\r\n                </CardText>\r\n                <CardActions>\r\n                    <Button color=\"primary\" onClick={handleSubmit}>选择地点</Button>\r\n                </CardActions>\r\n            </Card>\r\n            <Modal\r\n                // style={{weight: '1000px', height: '100%'}}\r\n                active={open}\r\n                title=\"施工地点选择\"\r\n                showClose={false}\r\n                onClose={handleClose}\r\n                actions={[\r\n                    {\r\n                        label: '选择',\r\n                        color: 'primary',\r\n                        onClick: handleConfirm,\r\n                    },\r\n                    {\r\n                        label: '返回',\r\n                        onClick: handleClose,\r\n                    },\r\n                ]}\r\n            >\r\n                <h3 style={{textAlign: 'center'}}>地图</h3>\r\n                <img src={url} alt=\"地图\" style={{display: 'flex', justifyContent: 'center', alignContent: 'center', width: '100%', height: '100%'}} />\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\nexport default MapCard;","import logo from './logo.svg';\n\nimport React ,{useState, useEffect } from 'react';\n// 引入 ChatUI 样式\nimport '@chatui/core/es/styles/index.less';\n// 引入定制的样式\nimport './chatui-theme.css';\n\n// 引入组件\nimport Chat, {Bubble, useMessages} from '@chatui/core';\n// 引入样式\nimport '@chatui/core/dist/index.css';\nimport BuildingRadio from \"./BuildingRadio\";\nimport LimitRadio from \"./LimitRadio\";\nimport AreaInput from \"./AreaInput\";\nimport MapCard from \"./MapCard\";\n\n//初始对话内容\nconst initialMessages = [\n  {\n    type: 'text',\n    content: { text: '主人好，我是您的智能助理，专门帮助您判断一个工程建设项目是否为简易低风险~' },\n    user: { avatar: '//gw.alicdn.com/tfs/TB1DYHLwMHqK1RjSZFEXXcGMXXa-56-62.svg' },\n  },\n];\n\nconst App = () => {\n  const { messages, appendMsg, setTyping } = useMessages(initialMessages);\n\n  // 标记一轮对话结束 对话刚开始时为true\n  const [turnover, setTurnover] = useState(true);\n\n  // 标记执行步骤 表示该哪一步了\n  const [step, setStep] = useState(0)\n\n  // 传入第二个参数[]，即为只运行一次，仅在组件挂载卸载时执行（卸载时执行 会按预想工作吗？） 暂时弃用\n  useEffect(()=>{\n    //对话刚开始 客服主动提问\n    if (turnover === true){\n      appendMsg({\n        type: 'text',\n        content: { text: '请您描述您的问题~' },\n      })\n    }\n  }, [turnover])\n\n  useEffect(()=>{\n    // 第一步，询问建筑物性质\n    if (step === 1){\n      sendTextResponse(\"请您选择建筑物性质:\")\n      sendCardResponse(\"building\")\n    }\n    // 第二步，\n    else if(step === 2){\n      sendTextResponse(\"请您选择用途限定条件:\")\n      sendCardResponse(\"limit\")\n    }\n    else if(step === 3){\n      sendTextResponse(\"请您填写建筑面积:\")\n      sendCardResponse(\"area\")\n    }\n    else if(step === 4){\n      sendTextResponse(\"请您选择工程建设的地点:\")\n      sendCardResponse(\"map\")\n    }\n    else if(step === 5){\n      sendTextResponse(\"本次简易低风险咨询服务已结束，期待您的反馈。\")\n      sendTextResponse(\"如想继续使用本服务，请您输入您的需求再次咨询。\")\n    }\n  }, [step])\n\n  //点击发送后\n  function handleSend(type, val) {\n    if (type === 'text' && val.trim()) {\n      appendMsg({\n        type: 'text',\n        content: { text: val },\n        //用户所说的话在右侧\n        position: 'right',\n      });\n      console.log(val)\n      if(val.search(/我要建/i) !== -1){\n        setStep(1)\n      }\n      else{\n        sendTextResponse(\"很抱歉，我太笨啦，没法处理您的问题。\")\n      }\n    }\n  }\n\n  // 发送文字回复\n  // 先typing一会儿 间隔一秒发出回复\n  function sendTextResponse(text){\n    //设置状态为输入中\n    setTyping(true);\n\n    //一秒后回复消息\n    setTimeout(() => {\n      appendMsg({\n        type: 'text',\n        content: { text: text },\n      });\n    }, 1000);\n  }\n\n  // 发送图片回复\n  // 先typing一会儿 间隔一秒发出回复\n  function sendImageResponse(url){\n    //设置状态为输入中\n    setTyping(true);\n\n    //一秒后回复消息\n    setTimeout(() => {\n      appendMsg({\n        type: 'image',\n        content: { picUrl: url },\n      });\n    }, 1000);\n  }\n\n  // 发送卡片回复\n  // 先typing一会儿 间隔一秒发出回复\n  function sendCardResponse(application){\n    //设置状态为输入中\n    setTyping(true);\n\n    //一秒后回复消息\n    setTimeout(() => {\n      appendMsg({\n        type: 'card',\n        content:{\n          code: '',\n          data: {},\n        },\n        application: application\n      });\n    }, 1000);\n  }\n\n  function renderMessageContent(msg) {\n    const { type, content, application} = msg;\n    // 根据消息类型来渲染\n    switch (type) {\n      case 'text':\n        return <Bubble content={content.text} />;\n      case 'image':\n        return (\n            <Bubble type=\"image\">\n              <img src={content.picUrl} alt=\"\" />\n            </Bubble>\n        );\n      case 'card':\n        // 询问 建筑物性质\n        if(application === 'building'){\n          return(\n              <BuildingRadio sendResponse={sendTextResponse} forward={setStep}/>\n          )\n        }\n        // 询问 用途限定条件\n        else if(application === 'limit'){\n          return(\n              <LimitRadio sendResponse={sendTextResponse} forward={setStep}/>\n          )\n        }\n        // 询问 建筑面积\n        else if(application === 'area'){\n          return(\n              <AreaInput sendResponse={sendTextResponse} forward={setStep}/>\n          )\n        }\n        else if(application === 'map'){\n          return(\n              <MapCard sendResponse={sendTextResponse} forward={setStep}/>\n          )\n        }\n\n      default:\n        return null\n    }\n  }\n\n\n  return (\n      <Chat\n          navbar={{ title: '智能助理' }}\n          messages={messages}\n          renderMessageContent={renderMessageContent}\n          onSend={handleSend}\n      />\n  );\n};\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nimport axios from 'axios';\n\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// axios全局设置 设置baseURL为后端所在接口\n// 开发环境读取.development 生产环境读取.production\naxios.defaults.baseURL = process.env[\"REACT_APP_URL\"];\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}