(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{21:function(e,t,n){},23:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),o=n(8),a=n.n(o),r=(n(21),n(3)),i=(n.p,n(22),n(23),n(1)),l=n.n(i),u=(n(25),n(5)),j=n.n(u),d=n(0),b=[{label:"\u529e\u516c",value:"\u529e\u516c"},{label:"\u5546\u4e1a",value:"\u5546\u4e1a"},{label:"\u516c\u5171\u670d\u52a1\u8bbe\u65bd",value:"\u516c\u5171\u670d\u52a1\u8bbe\u65bd"},{label:"\u4ed3\u5e93",value:"\u4ed3\u5e93"},{label:"\u5382\u623f",value:"\u5382\u623f"},{label:"\u4f4f\u5b85-\u5e73\u623f",value:"\u4f4f\u5b85-\u5e73\u623f"},{label:"\u4f4f\u5b85-\u697c\u623f",value:"\u4f4f\u5b85-\u697c\u623f"}],p=function(e){var t=Object(c.useState)("\u529e\u516c"),n=Object(r.a)(t,2),s=n[0],o=n[1];return Object(d.jsxs)(i.Card,{size:"xl",children:[Object(d.jsx)(i.CardTitle,{children:"\u5efa\u7b51\u7269\u6027\u8d28\u9009\u62e9"}),Object(d.jsx)(i.CardText,{children:Object(d.jsx)(i.RadioGroup,{value:s,options:b,onChange:function(e){o(e)}})}),Object(d.jsx)(i.CardActions,{children:Object(d.jsx)(i.Button,{color:"primary",onClick:function(t){j.a.get("/SubBuilding?properties="+s).then((function(t){console.log(t),0===t.data.code?(e.sendResponse("\u60a8\u9009\u62e9\u7684\u5efa\u7b51\u7269\u6027\u8d28\u662f "+s),e.forward(2)):e.sendResponse("\u60a8\u7684\u9009\u62e9\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5")})).catch((function(t){console.log(t),e.sendResponse("\u60a8\u7684\u9009\u62e9\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5")}))},children:"\u63d0\u4ea4\u9009\u62e9"})})]})},h=function(e){var t=Object(c.useState)([]),n=Object(r.a)(t,2),s=n[0],o=n[1];var a=Object(c.useState)([]),l=Object(r.a)(a,2),u=l[0],b=l[1];return Object(c.useEffect)((function(){j.a.get("/GetLimit").then((function(t){if(0===t.data.code){var n=t.data.selection;console.log(n);var c=function(e){for(var t=[],n=0;n<e.length;n++){var c={};c.label=e[n],c.value=n+1,t.push(c)}return t}(n);b(c),console.log(u)}else e.sendResponse("\u4e0d\u597d\u610f\u601d\uff0c\u65e0\u6cd5\u83b7\u53d6\u7528\u9014\u9650\u5b9a\u6761\u4ef6")})).catch((function(e){console.log(e)}))}),[]),Object(d.jsxs)(i.Card,{size:"xl",children:[Object(d.jsx)(i.CardTitle,{children:"\u7528\u9014\u9650\u5b9a\u6761\u4ef6\u9009\u62e9"}),Object(d.jsx)(i.CardText,{children:Object(d.jsx)(i.RadioGroup,{value:s,options:u,onChange:function(e){o(e)}})}),Object(d.jsx)(i.CardActions,{children:Object(d.jsx)(i.Button,{color:"primary",onClick:function(t){j.a.post("/SubLimit",{selection:s}).then((function(t){console.log(t);var n=t.data.result,c=t.data.application;0===n?(e.sendResponse("\u606d\u559c\uff0c\u7528\u9014\u9650\u5b9a\u6761\u4ef6\u7b26\u5408\u7b80\u6613\u4f4e\u98ce\u9669\u7684\u8981\u6c42\uff01"),e.sendResponse("\u5bf9\u4e8e\u6b64\u5efa\u7b51\uff0c\u5c0f\u52a9\u7406\u5224\u65ad\u53ef\u80fd\u6709\u4ee5\u4e0b\u7528\u9014:"),e.sendResponse(c.join("\uff1b")),e.forward(3)):(e.sendResponse("\u5f88\u62b1\u6b49\uff0c\u6839\u636e\u5c0f\u52a9\u7406\u7684\u5224\u65ad\uff0c\u60a8\u7684\u5de5\u7a0b\u5efa\u8bbe\u9879\u76ee\u4e0d\u5c5e\u4e8e\u7b80\u6613\u4f4e\u98ce\u9669\u3002"),e.forward(5))})).catch((function(e){console.log(e),this.props.sendResponse("\u60a8\u7684\u9009\u62e9\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5\u3002")}))},children:"\u63d0\u4ea4\u9009\u62e9"})})]})},f=function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),s=n[0],o=n[1],a=Object(c.useState)(""),l=Object(r.a)(a,2),u=l[0],b=l[1],p=Object(c.useState)(""),h=Object(r.a)(p,2),f=h[0],O=h[1],x=Object(c.useState)(""),g=Object(r.a)(x,2),C=g[0],v=g[1];return Object(d.jsxs)(i.Card,{size:"xl",children:[Object(d.jsx)(i.CardTitle,{children:"\u5efa\u7b51\u9762\u79ef\u8868\u5355"}),Object(d.jsxs)(i.CardText,{children:[Object(d.jsx)("h3",{children:"\u5efa\u7b51\u7528\u9014"}),Object(d.jsx)(i.Input,{value:s,placeholder:"\u8bf7\u8f93\u5165\u5efa\u7b51\u7528\u9014",onChange:function(e){return o(e)}}),Object(d.jsx)("h3",{children:"\u5efa\u7b51\u603b\u9762\u79ef"}),Object(d.jsx)(i.Input,{value:u,placeholder:"\u8bf7\u8f93\u5165\u5efa\u7b51\u603b\u9762\u79ef",onChange:function(e){return b(e)}}),Object(d.jsx)("h3",{children:"\u5730\u4e0a\u5efa\u7b51\u9762\u79ef"}),Object(d.jsx)(i.Input,{value:f,placeholder:"\u8bf7\u8f93\u5165\u5730\u4e0a\u5efa\u7b51\u9762\u79ef",onChange:function(e){return O(e)}}),Object(d.jsx)("h3",{children:"\u5efa\u7b51\u9ad8\u5ea6"}),Object(d.jsx)(i.Input,{value:C,placeholder:"\u8bf7\u8f93\u5165\u5efa\u7b51\u9ad8\u5ea6",onChange:function(e){return v(e)}})]}),Object(d.jsx)(i.CardActions,{children:Object(d.jsx)(i.Button,{color:"primary",onClick:function(t){e.sendResponse("\u60a8\u586b\u5199\u7684\u6570\u636e\u5982\u4e0b:"),e.sendResponse("\u5efa\u7b51\u7528\u9014 "+s+"\n\u5efa\u7b51\u603b\u9762\u79ef "+u+"\n\u5730\u4e0a\u5efa\u7b51\u9762\u79ef "+f+"\n\u5efa\u7b51\u9ad8\u5ea6 "+C),j.a.post("/SubSquard",{use:s,all_squad:u,earth_squad:f,height:C}).then((function(t){console.log(t),0===t.data.result?(e.sendResponse("\u606d\u559c\uff0c\u5efa\u7b51\u9762\u79ef\u7b26\u5408\u7b80\u6613\u4f4e\u98ce\u9669\u7684\u8981\u6c42\uff01"),e.forward(4)):(e.sendResponse("\u5f88\u62b1\u6b49\uff0c\u6839\u636e\u5c0f\u52a9\u7406\u7684\u5224\u65ad\uff0c\u60a8\u7684\u5de5\u7a0b\u5efa\u8bbe\u9879\u76ee\u4e0d\u5c5e\u4e8e\u7b80\u6613\u4f4e\u98ce\u9669\u3002"),e.forward(5))})).catch((function(t){console.log(t),e.sendResponse("\u60a8\u7684\u9009\u62e9\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5")}))},children:"\u63d0\u4ea4\u8868\u5355"})})]})},O=function(e){var t=Object(c.useState)("http://uf-onegreen.qqxzb-img.com/m-maps/Upload_maps/201305/2013050708362908.jpg"),n=Object(r.a)(t,2),s=n[0],o=(n[1],Object(c.useState)(!1)),a=Object(r.a)(o,2),l=a[0],u=a[1];function j(e){u(!1)}return Object(d.jsxs)("div",{children:[Object(d.jsxs)(i.Card,{size:"xl",children:[Object(d.jsx)(i.CardTitle,{children:"\u65bd\u5de5\u5730\u70b9\u9009\u62e9"}),Object(d.jsx)(i.CardText,{children:Object(d.jsx)(i.Bubble,{type:"image",children:Object(d.jsx)("img",{src:s,alt:""})})}),Object(d.jsx)(i.CardActions,{children:Object(d.jsx)(i.Button,{color:"primary",onClick:function(e){u(!0)},children:"\u9009\u62e9\u5730\u70b9"})})]}),Object(d.jsxs)(i.Modal,{active:l,title:"\u65bd\u5de5\u5730\u70b9\u9009\u62e9",showClose:!1,onClose:j,actions:[{label:"\u9009\u62e9",color:"primary",onClick:function(t){u(!1),e.sendResponse("\u606d\u559c\uff0c\u60a8\u9009\u62e9\u7684\u5730\u70b9\u7b26\u5408\u6761\u4ef6\uff01"),e.sendResponse("\u60a8\u597d\uff0c\u60a8\u5df2\u6ee1\u8db3\u529e\u7406\u7b80\u4f4e\u5de5\u7a0b\u7684\u6761\u4ef6\uff0c\u524d\u5f80\u53d1\u6539\u59d4\u529e\u7406\u9879\u76ee\u5907\u6848\u8bc1\u660e\uff0c\u5728\u5efa\u8bbe\u9879\u76ee\u5c5e\u5730\u653f\u52a1\u670d\u52a1\u5927\u5385\u7533\u8bf7\u529e\u7406\u5efa\u8bbe\u5de5\u7a0b\u89c4\u5212\u8bb8\u53ef\u3002"),e.sendResponse("\u60a8\u53ef\u4ee5\u70b9\u51fb\u8fd9\u91cchttp://tzxm.beijing.gov.cn/slre/index\uff0c\u767b\u5f55\u5b98\u7f51\u540e\u7533\u8bf7\u7b80\u4f4e\u5de5\u7a0b\u3002"),e.forward(5)}},{label:"\u8fd4\u56de",onClick:j}],children:[Object(d.jsx)("h3",{style:{textAlign:"center"},children:"\u5730\u56fe"}),Object(d.jsx)("img",{src:s,alt:"\u5730\u56fe",style:{display:"flex",justifyContent:"center",alignContent:"center",width:"100%",height:"100%"}})]})]})},x=[{type:"text",content:{text:"\u4e3b\u4eba\u597d\uff0c\u6211\u662f\u60a8\u7684\u667a\u80fd\u52a9\u7406\uff0c\u4e13\u95e8\u5e2e\u52a9\u60a8\u5224\u65ad\u4e00\u4e2a\u5de5\u7a0b\u5efa\u8bbe\u9879\u76ee\u662f\u5426\u4e3a\u7b80\u6613\u4f4e\u98ce\u9669~"},user:{avatar:"//gw.alicdn.com/tfs/TB1DYHLwMHqK1RjSZFEXXcGMXXa-56-62.svg"}}],g=function(){var e=Object(i.useMessages)(x),t=e.messages,n=e.appendMsg,s=e.setTyping,o=Object(c.useState)(!0),a=Object(r.a)(o,2),u=a[0],j=(a[1],Object(c.useState)(0)),b=Object(r.a)(j,2),g=b[0],C=b[1];function v(e){s(!0),setTimeout((function(){n({type:"text",content:{text:e}})}),1e3)}function m(e){s(!0),setTimeout((function(){n({type:"card",content:{code:"",data:{}},application:e})}),1e3)}return Object(c.useEffect)((function(){!0===u&&n({type:"text",content:{text:"\u8bf7\u60a8\u63cf\u8ff0\u60a8\u7684\u95ee\u9898~"}})}),[u]),Object(c.useEffect)((function(){1===g?(v("\u8bf7\u60a8\u9009\u62e9\u5efa\u7b51\u7269\u6027\u8d28:"),m("building")):2===g?(v("\u8bf7\u60a8\u9009\u62e9\u7528\u9014\u9650\u5b9a\u6761\u4ef6:"),m("limit")):3===g?(v("\u8bf7\u60a8\u586b\u5199\u5efa\u7b51\u9762\u79ef:"),m("area")):4===g?(v("\u8bf7\u60a8\u9009\u62e9\u5de5\u7a0b\u5efa\u8bbe\u7684\u5730\u70b9:"),m("map")):5===g&&(v("\u672c\u6b21\u7b80\u6613\u4f4e\u98ce\u9669\u54a8\u8be2\u670d\u52a1\u5df2\u7ed3\u675f\uff0c\u671f\u5f85\u60a8\u7684\u53cd\u9988\u3002"),v("\u5982\u60f3\u7ee7\u7eed\u4f7f\u7528\u672c\u670d\u52a1\uff0c\u8bf7\u60a8\u8f93\u5165\u60a8\u7684\u9700\u6c42\u518d\u6b21\u54a8\u8be2\u3002"))}),[g]),Object(d.jsx)(l.a,{navbar:{title:"\u667a\u80fd\u52a9\u7406"},messages:t,renderMessageContent:function(e){var t=e.type,n=e.content,c=e.application;switch(t){case"text":return Object(d.jsx)(i.Bubble,{content:n.text});case"image":return Object(d.jsx)(i.Bubble,{type:"image",children:Object(d.jsx)("img",{src:n.picUrl,alt:""})});case"card":if("building"===c)return Object(d.jsx)(p,{sendResponse:v,forward:C});if("limit"===c)return Object(d.jsx)(h,{sendResponse:v,forward:C});if("area"===c)return Object(d.jsx)(f,{sendResponse:v,forward:C});if("map"===c)return Object(d.jsx)(O,{sendResponse:v,forward:C});default:return null}},onSend:function(e,t){"text"===e&&t.trim()&&(n({type:"text",content:{text:t},position:"right"}),console.log(t),-1!==t.search(/\u6211\u8981\u5efa/i)?C(1):v("\u5f88\u62b1\u6b49\uff0c\u6211\u592a\u7b28\u5566\uff0c\u6ca1\u6cd5\u5904\u7406\u60a8\u7684\u95ee\u9898\u3002"))}})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),o(e),a(e)}))};a.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root")),j.a.defaults.baseURL="http://frp.seafrc.love:5000",j.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",C()}},[[46,1,2]]]);
//# sourceMappingURL=main.24bd69b0.chunk.js.map